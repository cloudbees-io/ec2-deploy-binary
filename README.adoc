== ec2-deploy-actions

Run the action for folder contents tp destination folder in aws ec2 instance

Note: 
This action requires optional parameters

deploy-command  - to run the command  after deployment
deploy-script  - to run the script copied from source-folder after deployment

Note: only one of the above optional parameters is needed for exeuction

 


## CloudBees action for invoking the ec2 deploy 

This action can be used to invoke the ec2 deploy and execute command specified at the destination.

### Usage deploy to ec2 and run command

```yaml
   - name: ec2-deploy-with-command
      uses: calculi-corp/ec2-deploy-actions@dev
      with:
        source-location: ${{ cloudbees.workspace }}/test/*
        destination-ec2-location: /home/ubuntu/mydeploys/hellowworld/
        aws-ssh-key-data: ${{ secrets.EC2-ACTION-DEPLOY-KEY }}
        aws-user: ubuntu
        aws-host: ${{ secrets.EC2-ACTION-DEPLOY-HOST }}
        deploy-command: 'java -jar helloworld.jar'

``` 
 This action can be used to invoke the ec2 deploy and execute script specified at the destination.

### Usage deploy to ec2 and run script  

```yaml

    - name: ec2-deploy-with-script
      uses: calculi-corp/ec2-deploy-actions@dev
      with:
        source-location: ${{ cloudbees.workspace }}/test/*
        destination-ec2-location: /home/ubuntu/mydeploys/hellowworld/
        aws-ssh-key-data: ${{ secrets.EC2-ACTION-DEPLOY-KEY }}
        aws-user: ubuntu
        aws-host: ${{ secrets.EC2-ACTION-DEPLOY-HOST }}
        deploy-script: script1.sh
``` 
